<!DOCTYPE html>
<html lang="en">

<head>
    <title>My BCIT Project</title>
    <meta name="comp1800 template" content="My 1800 App">

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap Library CSS CDN go here -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!-- Boostrap Library JS CDN  go here -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

    <!-------------------------------------------------------->
    <!-- Firebase 8 Library related CSS, JS, JQuery go here -->
    <!-------------------------------------------------------->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.js"></script>
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.css" />
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>

    <!-- Other libraries go here -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Link to styles of your own -->
    <link rel="stylesheet" href="./styles/style.css">

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDVsyyQQFrAn1e-7luQ_NYL2q2CxzmbZpw&callback=initMap"
        async defer></script>
    <script>
        function initMap() {
            // Get the selected location from localStorage
            let selectedLocation = JSON.parse(localStorage.getItem('selectedLocation'));

            let location = { lat: 49.250, lng: -123.003 };

            if (selectedLocation) {
                location = selectedLocation;
            }

            // Create the map centered on the selected location
            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 12,
                center: location
            });

            // Add a marker at the selected location
            var marker = new google.maps.Marker({
                position: location,
                map: map
            });
        }

    </script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const urlParams = new URLSearchParams(window.location.search);
            const location = urlParams.get('location');

            const locations = {
                BCIT: { lat: 49.250, lng: -123.003 }
            };

            const mapElement = document.getElementById('map');
            if (location && locations[location]) {
                const map = new google.maps.Map(mapElement, {
                    center: locations[location],
                    zoom: 15
                });

                new google.maps.Marker({
                    position: locations[location],
                    map: map,
                    title: "BCIT Burnaby Campus"
                });
            } else {
                mapElement.textContent = 'Location not found';
            }
        });
    </script>


</head>

<body>

    <nav id="navbarPlaceholder"></nav>

    <div class="container mt-5">
        <h1 class="text-center mb-4">Find Restaurants Near You</h1>
        <div id="map" style="height: 500px; width: 100%;"></div>
    </div>
    <div id="map" style="width: 100%; height: 400px; background: lightgray;"></div>

    <nav id="footerPlaceholder"></nav>

    <script src="./scripts/firebaseAPI_BBY01.js"></script>
    <script src="./scripts/skeleton.js"></script>
    <script src="./scripts/script.js"></script>
    <script src="./scripts/main.js"></script>

</body>

</html>